<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (100% documented)</p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Clay.html">Clay</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ClayResult.html">ClayResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/ClayError.html">ClayError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/ClayDelegate.html">ClayDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/OpenDoorDelegate.html">OpenDoorDelegate</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='claysdk' class='heading'>ClaySDK</h1>

<p align="left">
<a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible" /></a>
<a href="https://cocoapods.org/pods/ClaySDK"><img src="https://img.shields.io/cocoapods/v/ClaySDK.svg" alt="CocoaPods compatible" /></a>
<a href="https://raw.githubusercontent.com/jakov-clay/ClaySDK/master/LICENSE"><img src="http://img.shields.io/badge/license-MIT-blue.svg?style=flat" alt="License: MIT" /></a>
</p>

<p>By <a href="https://saltoks.com/">Salto KS</a>.</p>
<h2 id='introduction' class='heading'>Introduction</h2>

<p>This SDK for iOS contains the most up-to-date frameworks for integrating Mobile Key technology into your own iOS applications. It will setup the necessary security to communicate with Connect API, and unlock locks with encrypted Mobile Keys returned by the Connect API. The SDK for iOS includes iOS libraries, developer documentation and a sample Xcode project to get you up and running quickly and easily.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 11+</li>
<li>Xcode 11.5</li>
<li>Swift 5.2</li>
</ul>

<p>Apart from that, these frameworks must be included into the target project:</p>

<ul>
<li>SaltoJustINMobileSDK.xcframework</li>
<li>CoreBluetooth.framework</li>
<li>Foundation.framework</li>
<li>VirgilSDK</li>
<li>VirgilCrypto</li>
<li>VirgilCryptoFoundation</li>
<li>VSCCommon</li>
<li>VSCFoundation</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>

<p>First, you need to obtain a copy of the JustInMobile iOS SDK from Salto Systems. Once you have this copy, you can start using the SDK.</p>

<p>The Virgil libraries can be found at <a href="https://github.com/VirgilSecurity/virgil-sdk-x/tree/5.7.0">Virgil Security Objective-C/Swift SDK</a></p>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p><a href="https://cocoapods.org/">CocoaPods</a> is a dependency manager for Cocoa projects.</p>

<p>To install ClaySDK, simply add the following line to your Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'ClaySDK'</span><span class="p">,</span> <span class="s1">'~&gt; 1.8'</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>

<p><a href="https://github.com/Carthage/Carthage">Carthage</a> is a simple, decentralized dependency manager for Cocoa.</p>

<p>To install ClaySDK, simply add the following line to your Cartfile:</p>
<pre class="highlight plaintext"><code>github "ClaySolutions/ClaySDK" "1.8.0"
</code></pre>

<p>Include framework from <em>Carthage/Build/iOS</em> folder. 
Follow instructions for including <a href="https://github.com/VirgilSecurity/virgil-sdk-x/tree/7.1.0#carthage">VirgilSDK</a></p>
<h2 id='usage' class='heading'>Usage</h2>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">ClaySDK</span>
<span class="c1">//...</span>
<span class="c1">//'self' must conform to ClayDelegate, the apiKey will be provided to you</span>
<span class="k">let</span> <span class="nv">clay</span> <span class="o">=</span> <span class="kt">ClaySDK</span><span class="p">(</span><span class="nv">installationUID</span><span class="p">:</span> <span class="s">"SOME_UNIQUE_ID"</span><span class="p">,</span> <span class="nv">apiKey</span><span class="p">:</span> <span class="s">"THE_API_PUBLIC_KEY"</span><span class="p">,</span> <span class="nv">delegate</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
<span class="c1">//...</span>
<span class="c1">// Public key that you need to send via API to activate mobile key</span>
<span class="k">let</span> <span class="nv">publicKey</span> <span class="o">=</span> <span class="n">clay</span><span class="o">.</span><span class="nf">getPublicKey</span><span class="p">()</span>
<span class="c1">//...</span>
<span class="c1">//'yourOpenDoorDelegate' must conform to OpenDoorDelegate</span>
<span class="n">clay</span><span class="o">.</span><span class="nf">openDoor</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="s">"your-encrypted-key"</span><span class="p">,</span> <span class="nv">delegate</span><span class="p">:</span> <span class="n">yourOpenDoorDelegate</span><span class="p">)</span>
</code></pre>

<p>Inside OpenDoorDelegate implementation ClayResult can be handled</p>
<pre class="highlight plaintext"><code>import SaltoJustINMobileSDK
//...
func didOpen(with result: ClayResult?) {
    guard let result = result else { return }
    if (result.getOpResult() == AUTH_SUCCESS_ACCESS_GRANTED) {
        // access granted
    }
    // or by using SSOperationGrup
    let group = SSOpResult.getGroup(result.getOpResult())
    switch group {
    case .groupAccepted: // success
        break
    case .groupFailure, .groupRejected, .groupUnknownResult:
        break
    default:
        break
    }
}
</code></pre>
<h2 id='author' class='heading'>Author</h2>

<ul>
<li><a href="https://github.com/ClaySolutions">ClaySolutions</a> (<a href="https://github.com/jakov-clay">Jakov</a>)</li>
</ul>
<h1 id='changelog' class='heading'>Changelog</h1>

<p>See <a href="CHANGELOG.md">CHANGELOG</a>.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2021-02-19)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
